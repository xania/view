var dt=Object.defineProperty;var mt=(n,t,e)=>t in n?dt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var p=(n,t,e)=>(mt(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();var d=(n=>(n[n.Effect=0]="Effect",n[n.Assign=1]="Assign",n[n.Append=2]="Append",n[n.Connect=3]="Connect",n[n.Compute=4]="Compute",n[n.Property=5]="Property",n))(d||{});function nt(n){return n instanceof j||n instanceof W}class W{constructor(t,e){this.state=t,this.valueOrCompute=e}}class j{constructor(t){this.updateFn=t}}function ve(n){return new j(n)}class gt{constructor(t){this.handler=t}}function Y(n){return new w(n)}let w=class{constructor(t){p(this,"get",this.prop);this.initial=t}prop(t){return this[t]??(this[t]=new R(this,t))}map(t){return new P(this,t)}effect(t){return new st(this,t)}update(t){return new W(this,t)}true(t){return this.map(e=>e?t:null)}false(t){return this.map(e=>e?null:t)}toggle(t,e){return this.map(s=>s?t:e)}pipe(t){return t(this)}};class R extends w{constructor(t,e){super(P.compute(t.initial,s=>s[e])),this.parent=t,this.name=e}}class P extends w{constructor(t,e){super(P.compute(t.initial,e)),this.source=t,this.compute=e}static compute(t,e,s){return t==null?s:t instanceof Promise?t.then(i=>P.compute(i,e)):e(t)}}class st{constructor(t,e){p(this,"type",d.Effect);this.state=t,this.effect=e}}function y(n,t){return t==null?n:n instanceof Array?(n.push(t),n):n?[n,t]:t}function A(n,t){if(!n)return;let e=0;const s=[n];for(;s.length;){const i=s.pop();if(i instanceof Array)for(let r=i.length-1;r>=0;r--){const o=i[r];o&&s.push(o)}else i&&t(i,e++)}}function yt(n){const t=[n];for(;t.length;){const e=t.pop();if(e instanceof Array)for(let s=e.length-1;s>=0;s--)t.push(e[s]);else if(e)return e}}function we(n){return new it(n.source,n.children)}class it{constructor(t,e){this.source=t,this.children=e}}function vt(n){return new J(n)}class J extends P{constructor(t){super(t,e=>[{type:"reset",items:e}]),this.source=t}add(t){return[{type:"add",itemOrGetter:t}]}}class k extends w{constructor(e,s,i){super();p(this,"items",[]);this.listState=e,this.owner=s,this.rowIndexKey=i}}class F{constructor(t,e=t[Symbol.iterator]()){this.iter=e}}function q(n){return n?n.constructor!==String&&Symbol.iterator&&(n==null?void 0:n[Symbol.iterator])instanceof Function:!1}function C(n,t){const e=[],s=[n];for(;s.length;){const i=s.pop();if(i!=null)if(i instanceof Array)for(let r=i.length-1;r>=0;r--)s.push(i[r]);else if(i instanceof Promise)e.push(i.then(r=>C(r,t)));else if(i instanceof H)console.log(i);else if(q(i)){const r=i[Symbol.iterator]();throw s.push(new H(r)),Error("not yet implemented")}else e.push(t(i))}return e}class H{constructor(t){this.iter=t}}function bt(n,t,...e){return s([n]);function s(i){for(;i.length;){const r=i.pop();if(r!=null)if(r instanceof Array)for(let o=r.length-1;o>=0;o--)i.push(r[o]);else{if(r instanceof Promise)return r.then(o=>(i.push(o),s(i)));if(r instanceof F){const o=r.iter.next();o.done||i.push(r),i.push(o.value)}else if(q(r))i.push(new F(r));else{const o=t(r,...e);o!=null&&i.push(o)}}}}}function N(n,t){return C(n,e=>e instanceof Function?e.apply(null,t):e)}class ${constructor(t,e=Symbol(),s,i){p(this,"operatorsKey",Symbol());p(this,"accumulatorKey",Symbol());p(this,"events");p(this,"disposed",!1);p(this,"nodes");p(this,"promises");p(this,"subscriptions");p(this,"disposables");p(this,"classList");p(this,"handleCommand",(t,e)=>{if(!this.disposed){if(t instanceof W)this.update(t.state,t.valueOrCompute);else if(t instanceof gt)t.handler(e);else if(t instanceof j)return t.updateFn()}});this.eventManager=t,this.valueKey=e,this.model=s,this.parent=i}applyEvent(t,e,s){const{events:i}=this;i===void 0?(this.events={[e]:[[t,s]]},this.eventManager.addListener(e,this)):i[e]?i[e].push([t,s]):(i[e]=[[t,s]],this.eventManager.addListener(e,this))}connect(t,e){const s=t[this.valueKey]??t.initial;if(s!==void 0){const o=[[s,e]];this.reconcile(o)}const i=[[t,e]],{operatorsKey:r}=this;for(;i.length;){const[o,c]=i.pop();if(o[r]=y(o[r],c),o instanceof P)i.push([o.source,{type:d.Compute,compute:o.compute,target:o}]);else if(o instanceof R)i.push([o.parent,{type:d.Property,property:o.name,target:o}]);else if(o instanceof k&&this.model!==void 0){const a=[[this.model,c]];this.reconcile(a)}}}refresh(t){const{operatorsKey:e,valueKey:s}=this,i=t[e],r=t instanceof k?this.model:t[s]??t.initial,o=[];A(i,c=>{o.push([r,c])}),this.reconcile(o)}onChange(t,e){const{operatorsKey:s,valueKey:i}=this,r=[];if(t instanceof R){let o=t.parent,c=e;for(;o;){const a=o instanceof k?this.model:o[i]??o.initial;if(St(a,t.name,c),A(o[s],l=>{l.type!==d.Property&&r.push([a,l])}),o instanceof R)o=o.parent,c=a;else if(o instanceof k){const{listState:l,owner:f,items:h}=o,g=f.onChange(l.source,h);A(l.source[f.operatorsKey],_=>{_.type===d.Compute&&_.target!==l&&g.push([h,_])}),f.reconcile(g);break}}}else if(t instanceof J){let o=t.source;const c=o[s],a=o[i]??o.initial;if(c instanceof Array)for(const l of c)(l.type!==d.Compute||l.target!==t)&&r.push([a,l])}else t instanceof k&&console.log(t);return r}update(t,e){const{valueKey:s,operatorsKey:i}=this,r=t[s]??t.initial,o=r===void 0?void 0:e instanceof Function?r instanceof Promise?r.then(At(e)):e(r):e;if(o!==void 0&&r!==o){if(t[s]=o,t instanceof k)debugger;const c=this.onChange(t,o);return A(t[i],a=>{c.push([o,a])}),this.reconcile(c)}}reconcile(t){const{valueKey:e,operatorsKey:s,accumulatorKey:i}=this;for(;t.length;){const[r,o]=t.pop();if(o instanceof Array){for(let c=0,a=o.length;c<a;c++)t.push([r,o[c]]);continue}if(r instanceof Promise){o[this.valueKey]=r,r.then(c=>{if(o[this.valueKey]===r)return this.reconcile([[c,o]])});continue}switch(o.type){case d.Effect:o.effect(r);break;case d.Assign:o.target[o.property]=r;break;case d.Append:const c=o[i];if(c)if(c instanceof Array){for(let h=0,g=c.length;h<g;h++)o.list.remove(c[h]);c.length=0}else o.list.remove(c),o[i]=null;C(r,h=>{o.list.add(h),o[i]=y(o[i],h)});break;case d.Property:case d.Compute:const{target:a}=o,l=a[e],f=o.type===d.Property?r[o.property]:o.compute(r,l);if(f!==l){a[e]=f;const h=a[s];h&&t.push([f,h])}break}}}handleCommands(t,e){return bt(t,this.handleCommand,e)}dispose(){this.disposed=!0,A(this.nodes,wt),A(this.subscriptions,xt)}}function wt(n){n&&n.remove()}function xt(n){n.unsubscribe()}function St(n,t,e){if(n instanceof Promise)return n.then(s=>s[t]=e);n[t]=e}function At(n){return t=>{if(t!==void 0)return n(t)}}function kt(n,t,e=t.currentTarget){const s={event:t,target:t.target,currentTarget:e,type:n};return"key"in t&&(s.key=t.key),s}class Ct{constructor(t){p(this,"listeners");this.container=t}createElement(t,e){const s=e==="svg"?"http://www.w3.org/2000/svg":t.namespaceURI??"http://www.w3.org/1999/xhtml",i=document.createElementNS(s,e);return t.appendChild(i),i}createTextNode(t,e){const s=document.createTextNode(e);return t.appendChild(s),s}createComment(t,e){const s=document.createComment(e);return t.appendChild(s),s}addListener(t,e){const{listeners:s}=this;s===void 0?(this.listeners={[t]:[e]},this.container.addEventListener(t,this,!0)):s[t]?s[t].push(e):(s[t]=[e],this.container.addEventListener(t,this,!0))}async handleEvent(t){const{listeners:e}=this;if(!e)return;const s=t.type,i=e[s];if(i)for(const r of i){if(r.disposed)continue;const o=r.events;if(!o)continue;const c=o[s];if(c)for(const a of c){const[l,f]=a;if(l.contains(t.target)){let h=null;if(h??(h=kt(s,t,l)),f instanceof Function){const g=f(h);g&&r.handleCommands(g,l)}else nt(f)?r.handleCommands(f,l):r.handleCommands(f.handleEvent(h),l)}}}}}var L=(n=>(n[n.Element=8585231]="Element",n[n.Data=8585232]="Data",n[n.StaticElement=8585233]="StaticElement",n[n.Attribute=8585234]="Attribute",n[n.Text=8585235]="Text",n))(L||{});function ot(n){if(typeof n!="object"||n===null)return!1;const t=n.type;return t>=8585231&&t<=8585235}const Et=["abort","animationcancel","animationend","animationiteration","animationstart","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","click","close","compositionend","compositionstart","compositionupdate","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","focusin","focusout","formdata","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointermove","pointerout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","securitypolicyviolation","seeked","seeking","select","selectionchange","selectstart","slotchange","stalled","submit","suspend","timeupdate","toggle","touchcancel","touchend","touchmove","touchstart","transitioncancel","transitionend","transitionrun","transitionstart","volumechange","waiting","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend","wheel"];function Pt(n){return Et.includes(n)}function Q(n,t,e,s,i){if(e==="class"||e==="className"){const r=[s];for(;r.length;){const o=r.pop();if(o!=null){if(o instanceof Array)r.push(...o);else if(o instanceof w)n.connect(o.map(Lt),{type:d.Append,list:t.classList});else if(o.constructor===String)for(const c of o.split(" ")){const a=c.trim();a&&(t.classList.add(a),i&&(n.classList=y(n.classList,a)))}}}}else if(Pt(e))n.applyEvent(t,e,s);else{const r=e==="for"?"htmlFor":e;s==null||(s instanceof w?n.connect(s,{type:d.Assign,target:t,property:r}):t.namespaceURI==="http://www.w3.org/2000/svg"?t.setAttribute(r,s):t[r]=s)}}function Lt(n){const t=[n],e=[];for(;t.length;){const s=t.pop();if(s!=null){if(s instanceof Array)for(let i=s.length-1;i>=0;i--)t.push(s[i]);else if(s.constructor===String)for(const i of s.split(" "))i&&e.push(i)}}return e}class z{constructor(t,e){this.func=t,this.props=e}execute(){const{func:t,props:e}=this;try{return t(e)}catch(s){if(t.toString().startsWith("class"))return Reflect.construct(t,e);throw s}}}function It(n){return n==null?!1:n&&n.subscribe instanceof Function}function rt(n){return n==null?!1:n.unsubscribe instanceof Function}function ct(n){return n!=null&&n.dispose instanceof Function}class E{constructor(t){this.anchorNode=t}appendChild(t){this.anchorNode.before(t)}static create(t){if(t)return t instanceof E?new E(t.anchorNode):new E(t)}}class _t{constructor(t,e,s,i){p(this,"type",d.Effect);p(this,"sandboxes",[]);this.template=t,this.currentTarget=e,this.listItem=s,this.factory=i}anchorAt(t){const{sandboxes:e,currentTarget:s}=this;let i;for(let r=t;r<e.length;r++)if(i=yt(e[r].nodes),i)return new E(i);return s}insert(t,e){const{sandboxes:s,listItem:i}=this,{rowIndexKey:r}=i;t[r]=e;const o=new $(this.factory,Symbol(e),t),c=this.anchorAt(e);K([[o,c,this.template,!0]],this.factory);for(let a=s.length;a>e;a--){const l=s[a-1];s[a]=l,l.model[r]=a}s[e]=o}move(t,e){const{sandboxes:s,listItem:i}=this,{rowIndexKey:r}=i,o=s[t],c=this.anchorAt(e);if(c&&A(o.nodes,a=>{a&&c.appendChild(a)}),e>t)for(let a=t;a<e;a++){const l=s[a+1];l.model[r]=a,s[a]=l}else for(let a=t;a>e;a--){const l=s[a-1];l.model[r]=a,s[a]=l}o.model[r]=e,s[e]=o}append(t){const{sandboxes:e,currentTarget:s,template:i,listItem:r}=this,{rowIndexKey:o}=r;for(let c=0;c<t.length;c++){const a=t[c];if(a==null)continue;a[o]=e.length;const l=new $(this.factory,Symbol(e.length.toString()),a);K([[l,s,i,!0]],this.factory),e.push(l)}}effect(t){const{sandboxes:e,listItem:s}=this,{items:i}=s;for(let r=0;r<t.length;r++){const o=t[r];switch(o.type){case"remove":e[o.index].dispose(),e.splice(o.index,1),i.splice(o.index,1);break;case"insert":this.insert(o.item,o.index),i.splice(o.index,0,o.item);break;case"append":this.append(o.items),i.push(...o.items);break;case"move":const{from:c,to:a}=o;if(c===a)break;this.move(c,a);const l=i[c];if(a>c)for(let f=c;f<a;f++)i[f]=i[f+1];else for(let f=c;f>a;f--)i[f]=i[f-1];i[a]=l;break;case"reset":s.items=o.items,this.reset(o.items);break;default:console.log("unknown mutation",o);break}}}reset(t){const{sandboxes:e,listItem:s}=this,{rowIndexKey:i}=s;if(e.length===0)this.append(t);else{for(let a=0;a<t.length;a++){const l=t[a];if(l!=null){const f=l[i];f!==void 0&&(e[f].model!==l&&(e[f].model=l,s.items[f]=l,e[f].refresh(s)),l[i]=-f-1)}}let r=0;const o=[];for(let a=0,l=e.length;a<l;a++){const f=e[a],h=f.model;h[i]>=0?(f.dispose(),r++):(h[i]=a-r,r>0&&(e[a-r]=f))}for(;r--;)e.pop().dispose();let c=0;for(let a=0,l=0,f=t.length;a<f;a++){const h=t[a];if(h==null){c++;continue}const g=h[i];if(g===void 0)this.insert(h,a),l++;else if(a-c!==g+l){const _=g+l,pt=a-c;this.move(_,pt)}}return o}}}function K(n,t){for(;n.length;){const[e,s,i,r]=n.pop();if(!(e.disposed||i===null||i===void 0))if(i instanceof Array)for(let o=i.length-1;o>=0;o--){const c=i[o];c!=null&&n.push([e,s,c,r])}else if(i instanceof F){const o=i.iter.next();o.done||n.push([e,s,i,r]),n.push([e,s,o.value,r])}else if(i.constructor===String){const o=t.createTextNode(s,i);r&&(e.nodes=y(e.nodes,o))}else if(i.constructor===Number){const o=t.createTextNode(s,String(i));r&&(e.nodes=y(e.nodes,o))}else if(i instanceof z)n.push([e,s,i.execute(),r]);else if(i instanceof w){const o=t.createTextNode(s,"");r&&(e.nodes=y(e.nodes,o)),e.connect(i,{type:d.Assign,target:o,property:"data"})}else if(i instanceof it){const o=i.source;if(o instanceof Array)for(let c=o.length-1;c>=0;c--){const a=N(i.children,[new w(o[c])]);n.push([e,s,a,r])}else{const c=t.createComment(s,"");r&&(e.nodes=y(e.nodes,c));const a=Symbol(),l=o instanceof J?o:o.pipe(vt),f=new k(l,e,a),h=N(i.children,[f]),g=E.create(c);e.connect(l,new _t(h,g,f,t))}}else if(i instanceof st)e.connect(i.state,i);else if(i instanceof Promise)e.promises=y(e.promises,i.then(o=>{o&&n.push([e,s,o,r]),K(n,t)}));else if(ot(i))switch(i.type){case L.Element:const o=t.createElement(s,i.name);r&&(e.nodes=y(e.nodes,o));const{attrs:c}=i;if(c)for(const l in c){const f=c[l];Q(e,o,l,f,r)}const{children:a}=i;(a??!0)&&K([[e,o,a,!1]],t);break;case L.Attribute:if(s instanceof E)throw"cannot set attributes on anchor element";Q(e,s,i.name,i.value,r);break;default:console.log("dom",i);break}else Kt(i)?n.push([e,s,i.view(),r]):Ot(i)?n.push([e,s,i.attachTo(s,t),r]):It(i)?e.subscriptions=y(e.subscriptions,i.subscribe({next(o){e.handleCommands(o,s)}})):ct(i)?e.disposables=y(e.disposables,i):rt(i)?e.subscriptions=y(e.subscriptions,i):q(i)?n.push([e,s,new F(i),r]):nt(i)?e.handleCommands(i,s):console.log("unknown",i)}}function U(n){const t=[n];for(;t.length>0;){const e=t.pop();if(e)if(e instanceof Array)for(const s of e)t.push(s);else e instanceof Promise?e.then(U):e instanceof Function?e():ct(e)?e.dispose():rt(e)&&e.unsubscribe()}}function Kt(n){return n!=null&&n.view instanceof Function}function Ot(n){return n!=null&&n.attachTo instanceof Function}function at(n,t){const e=new Ct(t),s=new $(e);return K([[s,t,n,!0]],e),s}function Rt(n,t){const e={name:n,type:L.Element};if(t){const{children:s,...i}=t;s&&(e.children=s),i&&(e.attrs=i)}return e}function u(n,t){return n===O?O(t):n instanceof Function?new z(n,t):Rt(n,t)}function O(n){return n.children}const Ft="modulepreload",Mt=function(n){return"/"+n},Z={},b=function(t,e,s){if(!e||e.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(e.map(r=>{if(r=Mt(r),r in Z)return;Z[r]=!0;const o=r.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!s)for(let f=i.length-1;f>=0;f--){const h=i[f];if(h.href===r&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${c}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Ft,o||(l.as="script",l.crossOrigin=""),l.href=r,document.head.appendChild(l),o)return new Promise((f,h)=>{l.addEventListener("load",f),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};function M(n){const t=[];for(const e in n){const s=n[e];s!=null&&t.push({type:L.Attribute,name:e,value:s})}return t}var m;(n=>{n.STALE=0,(t=>{t[t.Map=0]="Map",t[t.Bind=1]="Bind",t[t.Connect=2]="Connect",t[t.Property=3]="Property",t[t.Join=4]="Join",t[t.Signal=5]="Signal"})(n.StateOperatorType||(n.StateOperatorType={}))})(m||(m={}));function Vt(n){const{observers:t,snapshot:e}=n;if(t!==void 0)for(const s of t)s.next(e)}function Bt(n){return n&&n.subscribe instanceof Function}function Tt(n){const t=new S,e=n.subscribe({next:t.set,complete(){e.unsubscribe()}});return t}function lt(n){const t=this,{snapshot:e}=t;e!==void 0&&n.next(e);let{observers:s}=t;return s?s.push(n):this.observers=s=[n],{unsubscribe(){const{observers:i}=t;if(i){const r=i.indexOf(n);i==null||i.splice(r,1)}n.complete&&n.complete()}}}class ut{constructor(t,e){this.func=t,this.target=e,this.type=m.StateOperatorType.Map}}function x(n,t){const{operators:e}=n;e?e.push(t):n.operators=[t];const{deps:s}=t.target;s?s instanceof Array?s.push(n):t.target.deps=[s,n]:t.target.deps=n}function Nt(n,t){const{operators:e}=n;if(e){for(let i=0,r=e.length;i<r;i++)if(e[i]===t){for(let o=i+1;o<r;o++)e[o-1]=e[o];e.length--;break}}const{deps:s}=t.target;if(s instanceof Array){const i=s.indexOf(n);i>=0&&s.splice(i,1)}else s===n&&(t.target.deps=void 0)}class $t{constructor(t,e){this.name=t,this.target=e,this.type=m.StateOperatorType.Property}}function Ut(n){const{snapshot:t}=this,e=t==null?void 0:t[n],s=new S(e),i=new $t(n,s);return x(this,i),s}function Wt(n,t,e){e.dirty=m.STALE;const s={type:m.StateOperatorType.Connect,target:e},{snapshot:i}=n,r=i!==void 0?X(t(i)):void 0;r&&(x(r,s),r.snapshot!==void 0&&r.snapshot!==e.snapshot&&(e.snapshot=r.snapshot,e.dirty=!0));const o={boundState:r,type:m.StateOperatorType.Bind,target:e,binder:t,connectOp:s};return x(n,o),e}const D=Symbol("snapshot");function jt(n){const t=n.length,e=new Array(t),s=new Array(t),i=new Jt(e,s),r={type:m.StateOperatorType.Join,target:i};for(let o=0;o<t;o++){const c=X(n[o]);s[o]=c,e[o]=c.snapshot,x(c,r)}return i}class Jt{constructor(t,e){this.snapshot=t,this.sources=e,this.dirty=!1,this.depth=0,this.subscribe=lt;for(let s=0,i=e.length;s<i;s++){const r=e[s];r.depth!==void 0&&r.depth>=this.depth&&(this.depth=r.depth+1)}}get(){return this.snapshot}map(t){const{snapshot:e}=this;let s;for(let o=0,c=e.length;o<c&&e[o]!==void 0;o++)o+1===c&&(s=t(e));const i=new I(s),r=new ut(t,i);return x(this,r),i}notify(){const{observers:t,snapshot:e}=this;if(t&&e.every(s=>s!==void 0))for(const s of t)s[D]!==e&&(s[D]=e,s.next(e))}}function tt(){return this.snapshot}class I{constructor(t,e=lt){this.snapshot=t,this.subscribe=e,this.dirty=!1,this.get=tt,this.read=tt,this.prop=Ut,this.pipe=this.bind}dispose(){const{deps:t}=this;if(t)if(t instanceof Array)for(const e of t)this.disconnect(e);else this.disconnect(t)}disconnect(t){const e=t.operators;if(e)for(let s=e.length-1;s>=0;s--)e[s].target===this&&e.splice(s,1)}map(t){const{snapshot:e}=this,s=new I(e!==void 0?t(e):void 0),i=new ut(t,s);return x(this,i),s}bind(t){return Wt(this,t,new I)}toString(){var t;return((t=this.snapshot)==null?void 0:t.toString())??""}join(t,e){const s=jt([this,t]);return e?s.map(i=>e.apply(null,i)):s}effect(t){return this.subscribe({next:t})}}function X(n){return n instanceof I?n:Xt(n)?Gt(n):Bt(n)?Tt(n):n}async function qt(...n){for(;n.length;){let t=n.pop();t.observers&&Vt(t);const{snapshot:e,operators:s}=t;if(e!==void 0&&s!==void 0)for(let i=s.length-1;i>=0;i--){const r=s[i];switch(r.type){case m.StateOperatorType.Property:if(e!==void 0){const a=e===null?null:e[r.name],{target:l}=r;a!==void 0&&l.snapshot!==a&&(l.snapshot=a,n.push(l))}break;case m.StateOperatorType.Map:const{target:o}=r,c=await r.func(e,await o.snapshot);if(c!==void 0&&o.snapshot!==c){if(c instanceof Promise)debugger;o.snapshot=c,n.push(o)}break;case m.StateOperatorType.Connect:r.target.snapshot!==e&&(r.target.snapshot=e,n.push(r.target));break;case m.StateOperatorType.Bind:zt(t,r)&&n.push(r.target);break;case m.StateOperatorType.Join:console.log("join");break;case m.StateOperatorType.Signal:t[r.key]!==r.target.version?(s.splice(i,1),t[r.key]=void 0):r.target.dirty=m.STALE;break}}}}function zt(n,t){const e=n.snapshot;if(e!==void 0){const{boundState:s,connectOp:i,binder:r}=t,o=X(r(e));if(s!==o&&(s&&Nt(s,i),t.boundState=o,o)){x(o,i);const c=o.snapshot;if(c!==void 0){const{target:a}=t;if(a.snapshot!==c)return a.snapshot=c,!0}}}return!1}function T(n){const{snapshot:t}=this,e=n instanceof Function?n(t):n;return e!==t?(this.snapshot=e,this.dirty=!0,qt(this),!0):!1}class S extends I{constructor(){super(...arguments),this.set=T,this.next=T,this.write=T}}function Xt(n){return Symbol.asyncIterator&&(n==null?void 0:n[Symbol.asyncIterator])instanceof Function}function Gt(n){const t=new S;e(n[Symbol.asyncIterator]());function e(s){s.next().then(i=>{t.set(i.value),i.done||e(s)})}return t}function Yt(n,t=1e3){const e=new S;return setInterval(()=>{e.write(n instanceof Function?n():n)},t),e}function Ht(...n){const t=new S,e={type:m.StateOperatorType.Connect,target:t};for(const s of n){x(s,e);const{snapshot:i}=s;i!==void 0&&(t.snapshot=i,t.dirty=!0)}return t}function Qt(n){const t=new S(void 0);let e=null;return s=>{if(s!=null){const i=s[n];i!==e&&(e=i,t.set(s))}return t}}function Zt(n){const t=new S;return e=>(n(e)&&t.set(e),t)}const Dt=Yt(()=>location.pathname,200).map(n=>({pathname:n,trigger:G.Location}));function te(n){return{events:Ht(Dt,ee).pipe(Qt("pathname")).map(({trigger:t,pathname:e})=>({trigger:t,path:e.split("/").filter(s=>!!s)})).pipe(Zt(t=>ft(t.path,n)))}}function ft(n,t){if(t.length===0)return!0;if(t.length>n.length)return!1;for(var e=0;e<t.length;e++)if(s(t[e],n[e])===!1)return!1;return!0;function s(i,r){return!(i!==r&&(typeof i=="string"||i.toString()!==r))}}const ee=new S(void 0,n=>{window.addEventListener("popstate",t);function t(e){n.next({pathname:location.pathname,trigger:G.PopState})}return{unsubscribe(){window.removeEventListener("popstate",t)}}});"scrollRestoration"in history&&(history.scrollRestoration="manual");function V(n){const{context:t,children:e}=n;return C(N(e,[t]),function s(i){if(i instanceof z){if(i.func===B){const r=i.props,o=r.to.split("/"),c=`/${[...t.fullpath,...o].join("/")}`,a=r.class;if(a===void 0)return M({href:c,click(f){f.event.preventDefault(),et(c)}});const l=new w("");return[M({href:c,class:l,click(f){f.event.preventDefault(),et(c)}}),t.events.map(f=>l.update(ft(f.path,o)?a:""))]}return i.func===v?new se(t,i.props):C(i.execute(),s)}else if(ot(i))switch(i.type){case L.Element:if(i.children)return{...i,children:C(i.children,s)};default:return i}else return i})}function ht(n){return t=>{if(t.path.length<n.length)return;for(let s=0;s<n.length;s++)if(t.path[s]!==n[s])return;return{...t,path:t.path.slice(n.length)}}}class ne{constructor(t,e){p(this,"path");p(this,"fullpath");p(this,"events");this.resolution=t,this.parent=e,this.path=t.appliedPath,this.fullpath=[...e.fullpath,...t.appliedPath],this.events=e.events.map(ht(t.appliedPath))}dispose(){this.events.dispose()}view(){const{resolution:t}=this;if(t&&t.component){const{component:e}=t,s=this;return C(e,r=>r instanceof Function?V({context:s,children:r(s)}):V({context:s,children:r}))}}}var G=(n=>(n[n.Click=0]="Click",n[n.Location=1]="Location",n[n.PopState=2]="PopState",n))(G||{});class se{constructor(t,e){this.context=t,this.props=e}attachTo(t){const{path:e}=this.props,s=e instanceof Function?e:ce(e);return this.context.events.map(async(r,o)=>{if(o){const h=o.resolution;if(e?ie(r.path,h.appliedPath):r.path.length===0)return o}const c=await s(r.path);if(!c)return null;const a=r.path.slice(0,c.length),l={path:a,fullpath:[...this.context.fullpath,...a],events:this.context.events.map(ht(a))},f={appliedPath:a,component:V({context:l,children:this.props.children}),params:c.params};return new ne(f,this.context)}).subscribe({prev:void 0,async next(r){const o=await r,{prev:c}=this;c&&U(c),o&&(this.prev=at(o,t))},complete(){const{prev:r}=this;r&&U(r)}})}}function ie(n,t){if(n.length<t.length)return!1;for(let e=0;e<t.length;e++)if(n[e]!==t[e])return!1;return!0}function et(n){let{pathname:t}=window.location;t+"/"===n?window.history.replaceState(n,"",n):t!==n&&window.history.pushState(n,"",n)}function oe(n){var t=[];for(const e of n)typeof e=="string"?t.push(re(e)):t.push(e);return t}function re(n){if(n.startsWith(":")){const t=n.substring(1);return function(e,s){return{length:1,[t]:e[s]}}}else return function(t,e){return t[e]!==n?!1:{length:1}}}function ce(n){if(!n)return le;const t=oe(n instanceof Array?n:n.split("/"));return e=>{const s={};let i=0;for(let r=0,o=t.length;r<o;r++){const c=t[r],a=c(e,i);if(a===!1)return null;const{length:l,...f}=a;i+=l,Object.assign(s,f)}return{length:i,params:s}}}const ae={length:0};function le(n){return n.length===0?ae:!1}function v(n){throw`error route [${n.path}]`}function B(n){return`error link [${n.to}]`}function ue(n){return V({context:{path:[],fullpath:[],events:te([]).events},children:n.children})}function fe(n){return u("div",{class:["h-full py-3 pl-3 last:pr-3 box-border",n.class],children:u("div",{class:"shadow-lg p-4 box-border h-full bg-white overflow-y-auto overflow-x-hidden border-solid border-2 border-gray-200 max-h-[99%]",children:n.children})})}function he(n){return u(O,{children:[u(M,{class:"flex flex-col"}),u("span",{class:"mt-0 mb-2 font-bold text-m uppercase text-gray-400 leading-tight text-primary justify-center align-middle inline-flex whitespace-nowrap",children:n.children})]})}function pe(){return u(O,{children:[u(M,{class:"flex flex-col"}),u(ue,{children:[u(me,{}),u(de,{children:[u(fe,{children:u(he,{children:"main menu"})}),u(v,{path:"clock",children:()=>b(()=>import("./index-fa806ded.js"),["assets/index-fa806ded.js","assets/utils-ff539ce6.js","assets/index-eb5769ae.css"]).then(n=>n.App())}),u(v,{path:"counter",children:()=>b(()=>import("./index-13d1bfd1.js"),[]).then(n=>n.App())}),u(v,{path:"time",children:()=>b(()=>import("./index-479ff69d.js"),["assets/index-479ff69d.js","assets/utils-ff539ce6.js"]).then(n=>n.App())}),u(v,{path:"tabs",children:[()=>b(()=>import("./index-67b2c386.js"),["assets/index-67b2c386.js","assets/utils-ff539ce6.js","assets/index-209d937e.css"]).then(n=>n.App()),u(v,{path:"a",children:()=>b(()=>import("./index-479ff69d.js"),["assets/index-479ff69d.js","assets/utils-ff539ce6.js"]).then(n=>n.App())})]}),u(v,{path:"todo",children:n=>b(()=>import("./index-022d6e35.js"),["assets/index-022d6e35.js","assets/index-5f3cd116.css"]).then(t=>t.App(n))}),u(v,{path:"router",children:()=>b(()=>import("./index-7520ed34.js"),[]).then(n=>n.App())}),u(v,{path:"grid",children:()=>b(()=>import("./index-c6e1bf83.js"),["assets/index-c6e1bf83.js","assets/index-ddb664d8.css"]).then(n=>n.App())}),u(v,{path:"admin",children:()=>b(()=>import("./index-35846579.js"),[]).then(n=>n.App())})]})]})]})}function de(n){return u("div",{class:"relative flex-auto border-box flex align-middle p-0 m-0 flex-row bg-gray-100 overflow-auto",children:n.children})}function me(){const n=Y(!1),t=Y(!1),e=[{title:"Clock",href:"clock"},{title:"Counter",href:"counter"},{title:"Todo App",href:"todo"},{title:"Router",href:"router/button"},{title:"Grid",href:"grid"},{title:"Admin",href:"admin"}];return u(O,{children:u("nav",{class:"bg-gray-800",children:[u("div",{class:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:u("div",{class:"relative flex h-16 items-center justify-between",children:[u("div",{class:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:u("button",{click:t.update(s=>!s),type:"button",class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",children:[u("span",{class:"sr-only",children:"Open main menu"}),u("svg",{class:"block h-6 w-6",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true",children:u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),u("svg",{class:"hidden h-6 w-6",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true",children:u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})})]})}),u("div",{class:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start",children:[u("div",{class:"flex flex-shrink-0 items-center",children:u("a",{children:[u(B,{to:""}),u("img",{class:"block h-8 w-auto lg:hidden",src:"/favicon.svg",alt:"Xania"}),u("img",{class:"hidden h-8 w-auto lg:block",src:"/favicon.svg",alt:"Xania"})]})}),u("div",{class:"hidden sm:ml-6 sm:block",children:u("div",{class:"flex space-x-4",children:e.map(s=>u(ge,{...s}))})})]}),u("div",{class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[u("button",{type:"button",class:"rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:[u("span",{class:"sr-only",children:"View notifications"}),u("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true",children:u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})})]}),u("div",{class:"relative ml-3",children:[u("div",{children:u("button",{click:n.update(s=>!s),type:"button",class:"flex rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800",id:"user-menu-button","aria-expanded":"false","aria-haspopup":"true",children:[u("span",{class:"sr-only",children:"Open user menu"}),u("img",{class:"h-8 w-8 rounded-full",src:"https://avatars.githubusercontent.com/u/34893682?s=48&v=4",alt:""})]})}),u("div",{class:["absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",,n.toggle("transition ease-out duration-100 transform opacity-100 scale-100","transition ease-in duration-75 transform opacity-0 scale-95")],role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabindex:"-1",children:[u("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700",role:"menuitem",tabindex:"-1",id:"user-menu-item-0",children:"Your Profile"}),u("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700",role:"menuitem",tabindex:"-1",id:"user-menu-item-1",children:"Settings"}),u("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700",role:"menuitem",tabindex:"-1",id:"user-menu-item-2",children:"Sign out"})]})]})]})]})}),u("div",{class:["sm:hidden",t.false("hidden")],id:"mobile-menu",children:u("div",{class:"space-y-1 px-2 pb-3 pt-2",children:e.map(s=>u("a",{class:"router-link text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-base font-medium",click:t.update(!1),children:[u(B,{to:s.href,class:"bg-gray-900"}),s.title]}))})})]})})}function ge(n){return u("a",{class:"hover:bg-gray-700 hover:text-white text-white block rounded-md px-3 py-2 text-base font-medium","aria-current":n.current&&"page",children:[u(B,{to:n.href,class:"bg-gray-900"}),n.title]})}at(u(pe,{}),document.getElementById("app"));export{M as A,O as F,B as L,fe as P,v as R,w as S,he as T,we as a,N as b,u as j,Y as s,ve as u};

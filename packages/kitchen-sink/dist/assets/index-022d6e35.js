import{j as e,P as r,L as s,a as _,s as d}from"./index-61d66076.js";const p="_hidden_117a9_22",u="_todoapp_117a9_26",h="_edit_117a9_81",m="_main_117a9_106",f="_editing_117a9_156",g="_view_117a9_168",b="_toggle_117a9_112",k="_completed_117a9_216",y="_destroy_117a9_221",v="_footer_117a9_256",T="_filters_117a9_284",w="_selected_117a9_310",L="_info_117a9_329",x="_slideIn_117a9_1",o={hidden:p,"todoapp-container":"_todoapp-container_117a9_26",todoapp:u,"new-todo":"_new-todo_117a9_80",edit:h,main:m,"toggle-all":"_toggle-all_117a9_112","todo-list":"_todo-list_117a9_140",editing:f,view:g,toggle:b,completed:k,destroy:y,footer:v,"todo-count":"_todo-count_117a9_275",filters:T,selected:w,"clear-completed":"_clear-completed_117a9_316",info:L,slideIn:x};function P({}){const a=d(),c=d([{completed:!0,label:"Get the milk"},{completed:!1,label:"Say hi"}]);return e(r,{class:"flex-auto",children:e("section",{class:o.todoapp,children:[e("header",{class:o.header,children:[e("h1",{children:"todos"}),e(I,{onNew:t=>c.update(l=>[...l,t])}),e("input",{id:"toggle-all",class:o["toggle-all"],type:"checkbox",checked:c.map(t=>t.every(l=>l.completed)),click:t=>c.update(l=>l.map(n=>({...n,completed:t.currentTarget.checked})))}),e("label",{for:"toggle-all"})]}),e(A,{items:c}),e(N,{items:c,mode:a})]})})}function I(a){function c(t){const l=t.currentTarget.value;if(t.key==="Enter"&&l){const n={label:l,completed:!1};return t.currentTarget.value="",[a.onNew(n)]}}return e("input",{class:o["new-todo"],placeholder:"What needs to be done?",keyup:c})}function N(a){const{items:c,mode:t}=a;return e("footer",{class:o.footer,children:[e("span",{class:o["todo-count"],children:[e("strong",{children:c.map(l=>{const n=l.filter(i=>!i.completed).length;return n===1?"1 item":`${n} items`})}),e("span",{children:" left"})]}),e("ul",{class:o.filters,children:[e("li",{children:e("a",{class:"border-solid border-2 border-black",children:[e(s,{to:"all",class:o.selected}),"All"]})}),e("li",{children:e("a",{children:[e(s,{to:"active",class:o.selected}),"Active"]})}),e("li",{children:e("a",{children:[e(s,{to:"completed",class:o.selected}),"Completed"]})})]})]})}function A(a){const{items:c}=a,t=d(!1);return e("ul",{class:o["todo-list"],children:e(_,{source:c,children:l=>e("li",{class:[t.map(n=>n?o.editing:null),l.map(n=>n.completed?o.completed:null)],children:[e("div",{class:o.view,children:[e("input",{class:o.toggle,type:"checkbox",checked:l.get("completed"),change:n=>l.get("completed").update(n.currentTarget.checked)}),e("label",{dblclick:t.update(!0),children:l.get("label")}),e("button",{class:o.destroy})]}),e("input",{class:o.edit,value:l.get("label"),focusout:t.update(!1),keyup:n=>{if(n.key==="Enter")return[t.update(!1),l.get("label").update(n.currentTarget.value)]},children:E(t)})]})})})}function E(a){return{attachTo(c){return a.effect(t=>{a&&c instanceof HTMLInputElement&&setTimeout(()=>{c.focus(),c.setSelectionRange(0,c.value.length)})})}}}export{P as App};
